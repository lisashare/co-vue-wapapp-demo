webpackJsonp([16],{"SI/4":function(t,s){},ZPHz:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("mvHQ"),i=e.n(a),r=e("6lib"),o={name:"Search",data:function(){return{placeholder:"请输入关键字",listHotInfos:"",params:{params:{userId:""}},close:!1,searchValue:"",searchHistory:[],showHistory:!1,emptyResult:!1}},methods:{getListHotInfo:function(){var t=this,s=this.params;this.$http.post(this.baseurl+"/home/hotlist",s).then(function(s){t.listHotInfos=s.data.data.slice(0,2)})},enterMessage:function(t){this.searchValue=this.listHotInfos[t].title;var s=i()(this.listHotInfos[t]);window.sessionStorage.setItem("listHotInfo",s),this.$router.push({name:"hotnews"})},getHistoryItems:function(){var t=JSON.parse(r.a.getStore("searchHistory"));if(!t)return!1;t.length&&(this.searchHistory=t.slice(0,3),this.showHistory=!0)},searchTarget:function(){var t=this;if(JSON.parse(r.a.getStore("searchHistory"))){var s=!1;this.searchHistory.forEach(function(e){e==t.searchValue&&(s=!0)}),s||this.searchHistory.unshift(this.searchValue)}else this.searchHistory.unshift(this.searchValue);r.a.setStore("searchHistory",this.searchHistory),this.$router.push({name:"homesearchtwo",query:{name:this.searchValue}}),this.searchValue=""},checkInput:function(){0!==this.searchValue?this.close=!0:this.close=!1},clearValue:function(){this.searchValue="",this.close=!1},clearAllHistory:function(){this.showHistory=!1,this.searchHistory=[],r.a.setStore("searchHistory",this.searchHistory)}},created:function(){this.getListHotInfo(),this.getHistoryItems()}},c={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"search page-top"},[e("div",{staticClass:"search-header line-bottom"},[e("i",{staticClass:"icon-left",on:{click:function(s){t.$router.go(-1)}}}),t._v(" "),e("div",{staticClass:"search-inp",on:{keyup:function(s){return"button"in s||!t._k(s.keyCode,"enter",13,s.key,"Enter")?t.searchTarget(s):null}}},[e("i",{staticClass:"fdj"}),t._v(" "),e("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"name",attrs:{type:"text",name:"search",id:"search",maxlength:"30",autocomplete:"off",placeholder:t.placeholder},domProps:{value:t.searchValue},on:{input:[function(s){s.target.composing||(t.searchValue=s.target.value)},t.checkInput]}}),t._v(" "),t.close?e("i",{staticClass:"el-input-clear",on:{click:t.clearValue}}):t._e()]),t._v(" "),e("span",{staticClass:"search-txt",on:{click:t.searchTarget}},[t._v("搜索")])]),t._v(" "),e("div",{staticClass:"cont"},[e("div",{staticClass:"title"}),t._v(" "),t.listHotInfos?e("div",{staticClass:"title"},[e("h4",[t._v("大家都在搜")]),t._v(" "),e("div",{staticClass:"search-branch"},[e("ul",t._l(t.listHotInfos,function(s,a){return e("li",{key:s.infoId,on:{click:function(s){t.enterMessage(a)}}},[e("span",{staticClass:"hottxt"},[t._v("热文")]),t._v(" "),e("span",{staticClass:"hotinfo"},[t._v(t._s(s.title))])])}))])]):t._e(),t._v(" "),t.showHistory?e("div",{staticClass:"title"},[e("h4",[t._v("搜索记录")]),t._v(" "),e("div",{staticClass:"search-branch"},[e("ul",t._l(t.searchHistory,function(s,a){return e("router-link",{key:a,staticClass:"search-history ellipsis",attrs:{to:{name:"homesearchtwo",query:{name:s}},tag:"li"}},[e("span",{staticClass:"ind"},[t._v(t._s(a+1))]),t._v(" "),e("p",[t._v(t._s(s))])])}))]),t._v(" "),e("h5",{on:{click:t.clearAllHistory}},[t._v("清空搜索记录")])]):t._e()])])},staticRenderFns:[]};var n=e("VU/8")(o,c,!1,function(t){e("SI/4")},"data-v-b069cc1c",null);s.default=n.exports}});
//# sourceMappingURL=16.ef87464b72b5f948e9a0.js.map