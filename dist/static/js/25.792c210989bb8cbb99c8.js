webpackJsonp([25],{"3YgV":function(t,a){},lk5E:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i("GPQ0"),o=(e.a,{name:"My",components:{HeaderTitle:e.a},data:function(){return{headimgShow:!1,defaultheadimgShow:!1,loading:!0,loginShow:!1,logoutShow:!1,headImg:"",name:"",phonenum:"",userAvatar:"",title:"个人中心"}},methods:{ungetMyinfo:function(){this.logoutShow=!0,this.defaultheadimgShow=!0,this.loading=!1},getMyinfo:function(){var t=this;this.$http.get(this.baseurl+"/me",{mode:"cors",credentials:"include"}).then(function(a){if(200==a.status){var i=a.data.data.phoneNumber,e=i.substr(0,3)+"****"+i.substr(7);t.name=a.data.data.name,t.phonenum=e,t.userAvatar=a.data.data.userAvatar,t.loginShow=!0,t.loading=!1,null==t.userAvatar?t.defaultheadimgShow=!0:t.headimgShow=!0}else t.logoutShow=!0,t.defaultheadimgShow=!0,t.loading=!1}).catch(function(a){console.log(a),t.clearAllCookie(),t.ungetMyinfo()})},phoneCall:function(){window.location.href="tel:010-53579588"},logout:function(){var t=this;this.$http.get(this.baseurl+"/logout").then(function(a){t.loginShow=!1,t.logoutShow=!0,t.defaultheadimgShow=!0,t.clearAllCookie(),t.loading=!1,t.headimgShow=!1}).catch(function(t){})},getCookie:function(t){var a=t+"=";if(document.cookie.length>0){var i=document.cookie.indexOf(a);if(-1!=i){i+=a.length;var e=document.cookie.indexOf(";",i);return-1==e&&(e=document.cookie.length),unescape(document.cookie.substring(i,e))}return""}return""},clearAllCookie:function(){var t=document.cookie.match(/[^ =;]+(?=\=)/g);if(t)for(var a=t.length;a--;)document.cookie=t[a]+"=0;expires="+new Date(0).toUTCString()}},created:function(){""!==this.getCookie("accesstoken")?this.getMyinfo():this.ungetMyinfo()}}),s={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"my page-top"},[i("div",{staticClass:"bggrey"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading-animation"},[t._m(0),t._v(" "),t._m(1),t._v(" "),i("p",[t._v("正在加载...")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"cntbox page-top"},[i("header-title",{attrs:{title:t.title}}),t._v(" "),i("div",{staticClass:"myBox fontSize"},[i("div",{staticClass:"headBox"},[i("div",{staticClass:"loginHead"},[i("div",{staticClass:"headimgbox"},[t.headimgShow?i("img",{attrs:{src:t.userAvatar}}):t._e(),t._v(" "),t.defaultheadimgShow?i("div",{staticClass:"icobox"},[i("img",{attrs:{src:"/static/images/my/default_headimg.png",alt:""}})]):t._e()]),t._v(" "),t.loginShow?i("div",{staticClass:"name"},[t._v(t._s(t.name))]):t._e(),t._v(" "),t.loginShow?i("div",{staticClass:"tel"},[t._v(t._s(t.phonenum))]):t._e(),t._v(" "),t.logoutShow?i("div",{staticClass:"loginbtnbox"},[i("router-link",{staticClass:"btn loginbtn",attrs:{to:"/login",tag:"div"}},[t._v("登录")]),t._v(" "),i("router-link",{staticClass:"btn registerbtn",attrs:{to:"/register",tag:"div"}},[t._v("注册")])],1):t._e()])]),t._v(" "),i("ul",{staticClass:"introUl"},[t.loginShow?i("router-link",{attrs:{to:"/myfocus",tag:"li"}},[i("span",{staticClass:"ico"},[i("img",{attrs:{src:"/static/images/my/ico_star.png",alt:""}})]),t._v("我的关注\n\t\t            ")]):t._e(),t._v(" "),t.logoutShow?i("router-link",{attrs:{to:"/login",tag:"li"}},[i("span",{staticClass:"ico"},[i("img",{attrs:{src:"/static/images/my/ico_star.png",alt:""}})]),t._v("我的关注\n\t\t            ")]):t._e(),t._v(" "),t._m(2)],1)]),t._v(" "),t.loginShow?i("div",{staticClass:"btnbox"},[i("button",{staticClass:"btn",on:{click:t.logout}},[t._v("退出登录")])]):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"loading-img loading-logo"},[a("img",{attrs:{width:"100%",src:"/static/images/common/logo.png",alt:""}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"loading-img loading-circle Rotation"},[a("img",{attrs:{width:"100%",src:"/static/images/common/circle.png",alt:""}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("a",{staticClass:"callTell",attrs:{href:"tel:010-53579588"}},[a("span",{staticClass:"ico1"},[a("img",{attrs:{src:"/static/images/my/ico_head.png",alt:""}})]),this._v("客服电话")])])}]};var n=i("VU/8")(o,s,!1,function(t){i("3YgV")},"data-v-17028282",null);a.default=n.exports}});
//# sourceMappingURL=25.792c210989bb8cbb99c8.js.map