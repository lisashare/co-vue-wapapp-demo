webpackJsonp([19],{"MeL/":function(t,i){},lk5E:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("GPQ0"),o=(a.a,{name:"My",components:{HeaderTitle:a.a},data:function(){return{headimgShow:!1,defaultheadimgShow:!1,loading:!0,loginShow:!1,logoutShow:!1,headImg:"",name:"",phonenum:"",userAvatar:"",title:"个人中心"}},methods:{myfocus:function(){this.logoutShow?this.$router.push("/login"):this.$router.push("/myfocus")},mycollect:function(){this.logoutShow?this.$router.push("/login"):this.$router.push("/mycollect")},ungetMyinfo:function(){this.logoutShow=!0,this.defaultheadimgShow=!0,this.loading=!1},getMyinfo:function(){var t=this;this.$http.get(this.baseurl+"/me",{mode:"cors",credentials:"include"}).then(function(i){if(200==i.status){var e=i.data.data.phoneNumber,a=e.substr(0,3)+"****"+e.substr(7);t.name=i.data.data.name,t.phonenum=a,t.userAvatar=i.data.data.userAvatar,t.loginShow=!0,t.loading=!1,null==t.userAvatar?t.defaultheadimgShow=!0:t.headimgShow=!0}else t.logoutShow=!0,t.defaultheadimgShow=!0,t.loading=!1}).catch(function(i){console.log(i),t.clearAllCookie(),t.ungetMyinfo()})},phoneCall:function(){window.location.href="tel:010-53579588"},logout:function(){var t=this;this.$http.get(this.baseurl+"/logout").then(function(i){t.loginShow=!1,t.logoutShow=!0,t.defaultheadimgShow=!0,t.clearAllCookie(),t.loading=!1,t.headimgShow=!1}).catch(function(t){})},getCookie:function(t){var i=t+"=";if(document.cookie.length>0){var e=document.cookie.indexOf(i);if(-1!=e){e+=i.length;var a=document.cookie.indexOf(";",e);return-1==a&&(a=document.cookie.length),unescape(document.cookie.substring(e,a))}return""}return""},clearAllCookie:function(){var t=document.cookie.match(/[^ =;]+(?=\=)/g);if(t)for(var i=t.length;i--;)document.cookie=t[i]+"=0;expires="+new Date(0).toUTCString()}},created:function(){""!==this.getCookie("accesstoken")?this.getMyinfo():this.ungetMyinfo()}}),s={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"my page-top"},[e("div",{staticClass:"bggrey"}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading-animation"},[t._m(0),t._v(" "),t._m(1),t._v(" "),e("p",[t._v("正在加载...")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"cntbox page-top"},[e("header-title",{attrs:{title:t.title}}),t._v(" "),e("div",{staticClass:"myBox fontSize"},[e("div",{staticClass:"headBox"},[e("div",{staticClass:"loginHead"},[e("div",{staticClass:"headimgbox"},[t.headimgShow?e("img",{attrs:{src:t.userAvatar}}):t._e(),t._v(" "),t.defaultheadimgShow?e("div",{staticClass:"icobox"},[e("img",{attrs:{src:"/static/images/my/default_headimg.png",alt:""}})]):t._e()]),t._v(" "),t.loginShow?e("div",{staticClass:"name"},[t._v(t._s(t.name))]):t._e(),t._v(" "),t.loginShow?e("div",{staticClass:"tel"},[t._v(t._s(t.phonenum))]):t._e(),t._v(" "),t.logoutShow?e("div",{staticClass:"loginbtnbox"},[e("router-link",{staticClass:"btn loginbtn",attrs:{to:"/login",tag:"div"}},[t._v("登录")]),t._v(" "),e("router-link",{staticClass:"btn registerbtn",attrs:{to:"/register",tag:"div"}},[t._v("注册")])],1):t._e()])]),t._v(" "),e("ul",{staticClass:"introUl"},[e("li",[e("div",{staticClass:"myfocus",on:{click:t.myfocus}},[t._m(2),t._v("我的关注\n\t\t\t\t\t\t")]),t._v(" "),e("div",{on:{click:t.mycollect}},[t._m(3),t._v("我的收藏")])]),t._v(" "),t._m(4)])]),t._v(" "),t.loginShow?e("div",{staticClass:"btnbox"},[e("button",{staticClass:"btn",on:{click:t.logout}},[t._v("退出登录")])]):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"loading-img loading-logo"},[i("img",{attrs:{width:"100%",src:"/static/images/common/logo.png",alt:""}})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"loading-img loading-circle Rotation"},[i("img",{attrs:{width:"100%",src:"/static/images/common/circle.png",alt:""}})])},function(){var t=this.$createElement,i=this._self._c||t;return i("span",{staticClass:"ico-focus"},[i("img",{attrs:{src:"/static/images/my/ico_star.png",alt:""}})])},function(){var t=this.$createElement,i=this._self._c||t;return i("span",{staticClass:"ico-collect"},[i("img",{attrs:{src:"/static/images/my/icon_collect.png",alt:""}})])},function(){var t=this.$createElement,i=this._self._c||t;return i("li",[i("a",{staticClass:"callTell",attrs:{href:"tel:010-53579588"}},[i("span",{staticClass:"ico1"},[i("img",{attrs:{src:"/static/images/my/ico_head.png",alt:""}})]),this._v("客服电话")])])}]};var n=e("VU/8")(o,s,!1,function(t){e("MeL/")},"data-v-7e3e864d",null);i.default=n.exports}});
//# sourceMappingURL=19.ffe07a1de331668368b2.js.map